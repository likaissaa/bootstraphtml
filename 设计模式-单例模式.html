<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
	</head>
	<body>
	</body>
	<script>
		/**
		 * 单例模式
		 * 
		 * 
		 * @param {Object} name
		 * 
		 * 
		 * 
		 * 
		 * 
		 * 
		 
		var Singleton = function(name) {
			this.name = name
			this.instance = null
		}
		
		Singleton.prototype.getName = function() {
			alert(this.name);
		}
		
		Singleton.getInstance = function(name) {
			if(!this.instance) {
				this.instance = new Singleton(name)
			}
			return this.instance;
		}
		
		var a = Singleton.getInstance('sven1');
		var b = Singleton.getInstance('sven2');∆∆
		var c = new Singleton("hehe")
		console.log(Singleton.getInstance())
		*/
		
		/**
		 * 透明的单例模式
		 
		var CreateDiv = (function() {
			var instance ;
			var CreateDiv = function(html) {
				if(instance) {
					console.log(instance)
					return instance;
				}
				this.html = html;
				this.init();
				instance = this 
				console.log(instance)
				return instance = this;
			}
			
			CreateDiv.prototype.init = function(){
				var div = document.createElement('div');
				div.innerHTML = this.html;
				document.body.appendChild(div);
			}
			return CreateDiv;
		})()
		
		var a = new CreateDiv('sven1');
		var b = new CreateDiv('sven2');
		*/
		/**
		 * 代理实现单例模式
		 * 
		 
		
		//普通的创建div 的类 将 控制单例的类移除出去 由代理类去处理
		var CreateDiv = function(html) {
			this.html = html
			this.init();
		}
		
		CreateDiv.prototype.init = function() {
			var div = document.createElement('div');
			div.innerHTML = this.html;
			document.body.appendChild(div);
		}
		
		
		var proxySingletonCreateDiv = (function() {
			var instance;
			return function(html) {
				if(!instance) {
					instance = new CreateDiv(html);
				}
				return instance;
			}
		})()
		
		var a = new proxySingletonCreateDiv('sven1')
		var b = new proxySingletonCreateDiv('sven2')
		*/
		
		// 使用闭包封装私有变量
		var user = (function() {
			var _name = 'sven',_age = 29;
			return {
				getUserInfo: function(){
					return _name +"-"+_age
				}
			}
		})();
		console.log(user.getUserInfo())
	</script>
</html>
