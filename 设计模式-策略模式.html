<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title></title>
	</head>

	<body>
	</body>
	<script>
		// 原始方法
		/*
		var calculateBonus = function(performanceLevel, salary) {
			if(performanceLevel === 'S') {
				return salary * 4;
			}
			
			if(performanceLevel === 'A') {
				return salary *3
 			}
			if(performanceLevel == 'B') {
				return salary *2
			}
		}
		
		var a = calculateBonus('B', 20000);
		console.log(a)
		var b =calculateBonus('A', 6000);
		console.log(b)
		*/
		// 原始方法2
		/*
		var performanceS = function(salary) {
			return salary * 4
		}
		var performanceA = function(salary) {
			return salary * 3
		}
		var performanceB = function (salary) {
			return salary * 2
		}
		
		var calculateBonus = function(performanceLevel, salary) {
			if(performanceLevel === 'S') {
				return performanceS(salary);
			}
			
			if(performanceLevel === 'A') {
				return performanceA(salary)
			}
			if(performanceLevel === 'B') {
				return performanceB(salary)
			}
		}
		
		console.log(calculateBonus('A' , 1000));
		*/

		// 原始方法3
		/*
		var performanceS = function() {}
		performanceS.prototype.calculate = function(salary) {
			return salary * 4;
		}

		var performanceA = function() {}
		performanceA.prototype.calculate = function(salary) {
			return salary * 3
		}
		var performanceB = function() {}
		performanceB.prototype.calculate = function(salary) {
			return salary * 2
		}

		// 定义奖金类
		var Bonus = function() {
			this.salary = null;
			this.strategy = null;
		}

		Bonus.prototype.setSalary = function(salary) {
			this.salary = salary;
		}

		Bonus.prototype.setStrategy = function(strategy) {
			this.strategy = strategy;
		}
		
		Bonus.prototype.getBonus = function(){ // 奖金数额
			return this.strategy.calculate( this.salary );
		}
		var bonus=new Bonus();
		bonus.setSalary (10000);
		bonus.setStrategy( new performanceS());
		console.log(bonus.getBonus());
		bonus.setStrategy(new performanceA);
		console.log(bonus.getBonus());
		*/
		
		
		// 正式方法
		var strategies = {
			"S": function (salary) {
				return salary * 4
			},
			"A": function (salary) {
				return salary * 3
			},
			"B": function (salary) {
				return salary * 3
			}
		}
		var calculateBonus = function(level, salary) {
			return strategies[ level ](salary);
		}
		console.log(calculateBonus('S', 20000)); 
		console.log(calculateBonus('A', 10000)); 
	</script>

</html>